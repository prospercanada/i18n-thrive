var i18nThrive=(()=>{var P=!1,D="preferredLang",it=[{code:"en",label:"English",htmlLang:"en-CA"},{code:"fr",label:"Fran\xE7ais",htmlLang:"fr-CA"}],v=t=>String(t||"en").toLowerCase()==="fr"?"fr":"en";function F(){try{return v(localStorage.getItem(D))}catch(t){return"en"}}function U(t){let e=v(t);document.documentElement.setAttribute("data-lang",e),document.documentElement.setAttribute("lang",e==="fr"?"fr-CA":"en-CA")}async function rt(t,{notifyAlways:e=!1}={}){var a,r;let n=v(t),o=document.documentElement.getAttribute("data-lang")||"en";try{localStorage.setItem(D,n)}catch(i){}if(o!==n&&U(n),(a=window.ThriveI18n)!=null&&a.setLangNoReload)try{await window.ThriveI18n.setLangNoReload(n)}catch(i){console.error("[i18n] setLangNoReload failed:",i)}if((r=window.i18next)!=null&&r.changeLanguage)try{await window.i18next.changeLanguage(n)}catch(i){console.warn("[i18n] i18next.changeLanguage failed:",i)}(e||o!==n)&&window.dispatchEvent(new CustomEvent("langchange",{detail:{lang:n}}))}function j(){return document.querySelector(".nav.navbar-nav")}function A(t){let e=j();if(!e)return;e.querySelectorAll("li[data-lang-toggle]").forEach(r=>r.remove());let n=it.find(r=>r.code!==t);if(!n)return;let o=document.createElement("li");o.setAttribute("data-lang-toggle","true");let a=document.createElement("a");a.href="#",a.setAttribute("role","button"),a.setAttribute("aria-label",`Switch to ${n.label}`),a.dataset.toggleLang=n.code,a.textContent=n.label,o.appendChild(a),e.appendChild(o),e.dataset.langToggleBound||(e.addEventListener("click",r=>{let i=r.target.closest("[data-toggle-lang]");if(!i)return;r.preventDefault();let s=i.dataset.toggleLang;rt(s,{notifyAlways:!0}),A(s)}),e.dataset.langToggleBound="1")}var q=null;function at(){if(q)return;let t=new MutationObserver(()=>{let e=j();e&&!e.querySelector("li[data-lang-toggle]")&&A(F())});t.observe(document.documentElement,{childList:!0,subtree:!0}),q=()=>t.disconnect()}function W(){var n;if(P)return;P=!0;let t=F();U(t),(n=window.i18next)!=null&&n.changeLanguage&&window.i18next.changeLanguage(t).catch(o=>console.warn("[i18n] initial i18next.changeLanguage failed:",o)),window.dispatchEvent(new CustomEvent("langchange",{detail:{lang:t}}));let e=()=>{A(t),at()};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",e,{once:!0}):e()}var u={lang:"en",catalogs:{},opts:null,observer:null,ready:!1,pending:[],isApplying:!1},$="preferredLang",st=new Set(["aria-label","title","alt","placeholder","value","data-i18n-text","data-content","data-original-title"]),_=t=>String(t||"en").toLowerCase()==="fr"?"fr":"en";function V(t){let e=_(t);document.documentElement.setAttribute("data-lang",e),document.documentElement.setAttribute("lang",e==="fr"?"fr-CA":"en-CA"),window.dispatchEvent(new CustomEvent("langchange",{detail:{lang:e}}))}function T(t){return document.createTreeWalker(t,NodeFilter.SHOW_TEXT,{acceptNode(n){return n.nodeValue&&n.nodeValue.trim()?1:2}}).nextNode()}function ct(t,e){return t===e?!0:t.replace(/\u00A0/g,"&nbsp;").trim()===e.replace(/\u00A0/g,"&nbsp;").trim()}function ut(t,e){let n=T(t);n?n.nodeValue!==e&&(n.nodeValue=e):t.textContent!==e&&(t.textContent=e)}var x=new Map;async function I(t){if(x.has(t))return x.get(t);let e=fetch(t,{cache:"no-store"}).then(n=>{if(!n.ok)throw new Error(`Failed to fetch ${t} (${n.status})`);return n.json()});return x.set(t,e),e}var w=null;function B(t){return w||(w=I(t),w)}var L=new Map;async function H(t,e){if(L.has(e))return L.get(e);let n=(async()=>{let a=(await B(t))[`${e}.map`];if(!a)return null;let r=new URL(t,location.origin),i=new URL(a,r).toString();return I(i)})();return L.set(e,n),n}var S=new Map;async function lt(t,e,n){let o=await B(t),a=new URL(t,location.origin),r=(e||[]).map(s=>{let c=`${s}:${n}`;if(S.has(c))return S.get(c);let l=o[`${s}.${n}`];if(!l)return Promise.resolve({});let m=new URL(l,a).toString(),y=I(m);return S.set(c,y),y}),i=await Promise.all(r);return Object.assign({},...i)}function z(t){let e=new Map;if(!t)return e;for(let n of t.split(",").map(o=>o.trim()).filter(Boolean)){let[o,a]=n.split(":").map(r=>r.trim());o&&a&&e.set(o,a)}return e}function ft(t){return Array.from(t.entries()).sort(([e],[n])=>e>n?1:e<n?-1:0).map(([e,n])=>`${e}:${n}`).join(",")}function J(t,e=document){for(let n of t||[]){let{selector:o,type:a,attr:r,key:i}=n||{};if(!o||!i)continue;let s=e.querySelectorAll(o);s.length&&s.forEach(c=>{if(a==="text"||a==="html")c.getAttribute("data-i18n")!==i&&c.setAttribute("data-i18n",i),a==="html"&&c.setAttribute("data-i18n-html","true");else if(a==="attr"&&r){let l=z(c.getAttribute("data-i18n-attr"));l.set(r,i);let m=ft(l);c.getAttribute("data-i18n-attr")!==m&&c.setAttribute("data-i18n-attr",m)}})}}function mt(t,e){let n=t.getAttribute("data-i18n");if(n&&e[n]!=null){let r=String(e[n]),i=t.hasAttribute("data-i18n-html"),s=n+"\xA7"+r.length;if(t.dataset.i18nApplied!==s){if(i)ct(t.innerHTML,r)||(t.innerHTML=r);else{let c=r.replace(/&nbsp;/g,"\xA0"),l=T(t);(l?l.nodeValue:t.textContent)!==c&&ut(t,c)}t.dataset.i18nApplied=s}}let o=t.getAttribute("data-i18n-attr");if(!o)return;let a=z(o);for(let[r,i]of a){if(!st.has(r)||e[i]==null)continue;let s=String(e[i]);if(r==="data-i18n-text"){let c=s.replace(/&nbsp;/g,"\xA0"),l=T(t);(l?l.nodeValue:"")!==c&&(l?l.nodeValue=c:t.insertBefore(document.createTextNode(c),t.firstChild));continue}(r==="title"||r==="aria-label"||r==="placeholder"||r==="value")&&(s=s.replace(/&nbsp;/g,"\xA0")),t.getAttribute(r)!==s&&t.setAttribute(r,s)}}function K(t,e=document){t&&e.querySelectorAll("[data-i18n],[data-i18n-attr]").forEach(n=>mt(n,t))}async function G(t){var r;if(!((r=u==null?void 0:u.opts)!=null&&r.manifestUrl))throw new Error("ThriveI18n not initialized: missing opts.manifestUrl");u.lang=_(t);try{localStorage.setItem($,u.lang)}catch(i){}let{manifestUrl:e,namespaces:n}=u.opts,o=await Promise.all(n.map(i=>H(e,i)));for(let i of o)Array.isArray(i)&&J(i,document);let a=await lt(e,n,u.lang);u.catalogs=a,u.isApplying=!0;try{K(a)}finally{u.isApplying=!1}}var E=!1,b=new Set;function O(t){!t||t.nodeType!==1||(b.add(t),E||(E=!0,queueMicrotask(dt)))}async function dt(){if(E=!1,!b.size)return;let t=Array.from(b);b.clear(),u.isApplying=!0;try{for(let e of t)for(let n of u.opts.namespaces){let o=await H(u.opts.manifestUrl,n);o&&J(o,e)}for(let e of t)K(u.catalogs,e)}finally{u.isApplying=!1}}async function Y(t){if(u.opts=Object.assign({namespaces:["profile"],observeMutations:!0,manifestUrl:""},t||{}),!u.opts.manifestUrl)throw new Error("manifestUrl required");let e=_(localStorage.getItem($)||"en");V(e),await G(e),u.ready=!0,window.addEventListener("storage",n=>{n.key===$&&n.newValue&&n.newValue!==u.lang&&gt(n.newValue)}),u.opts.observeMutations&&(u.observer&&u.observer.disconnect(),u.observer=new MutationObserver(n=>{if(!u.isApplying)for(let o of n)o.type==="childList"?o.addedNodes.forEach(a=>O(a)):o.type==="attributes"&&O(o.target)}),u.observer.observe(document.documentElement,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["data-i18n","data-i18n-attr","data-i18n-html"]}))}async function gt(t){if(V(t),!u.ready){u.pending.push(t);return}await G(t)}var tt=new Map,X=null;function g(){return document.documentElement.getAttribute("data-lang")==="fr"?"fr":"en"}function pt(t){let e=String(t).trim().match(/^Invite people to join\s+(?:the\s+)?(.+?)(?:\s+community)?$/i);return e?e[1].trim():null}function yt(t){let e=String(t).match(/(\d+)/);return e?{total:Number(e[1])}:null}function M(t){let e=String(t).trim().match(/(\d+)\D+(\d+)\D+(\d+)/);if(!e)return null;let[,n,o,a]=e.map(Number);return{start:n,end:o,total:a}}function ht(t){let e=String(t).trim().match(/(\d+)\s+(day|days|month|months|year|years)/i);if(!e)return null;let n=Number(e[1]),o=e[2].toLowerCase(),a=o.startsWith("day")?"day":o.startsWith("month")?"month":"year";return{n,unitKey:a}}var f={contacts:{en:({start:t,end:e,total:n})=>`Showing ${t} to ${e} of ${n}`,fr:({start:t,end:e,total:n})=>`Affichage des \xE9l\xE9ments ${t} \xE0 ${e} sur ${n}`},lastJoined:{en:({n:t,unit:e})=>`last person joined ${t} ${e} ago`,fr:({n:t,unit:e})=>`derni\xE8re personne inscrite il y a ${t} ${e}`},totalCount:{en:({total:t})=>`${t} total`,fr:({total:t})=>`${t} au total`},rangeWithTotal:{en:({start:t,end:e,total:n})=>`${t} to ${e} of ${n} total`,fr:({start:t,end:e,total:n})=>`${t} \xE0 ${e} sur ${n} au total`}},Q={en:{day:t=>t===1?"day":"days",month:t=>t===1?"month":"months",year:t=>t===1?"year":"years"},fr:{day:t=>t===1?"jour":"jours",month:()=>"mois",year:t=>t===1?"an":"ans"}};function p(t,e){tt.set(t,e)}function wt(t){let e=location.pathname.replace(/\/+$/,"");return typeof t=="function"?!!t(location):e===String(t).replace(/\/+$/,"")}function bt(){for(let[t,e]of tt)if(wt(t))return e;return null}function Z(){clearTimeout(X),X=setTimeout(()=>{let t=bt();t&&t()},0)}function et(){let t=()=>Z();document.readyState==="loading"?document.addEventListener("DOMContentLoaded",t,{once:!0}):t(),window.addEventListener("langchange",()=>Z())}p("/advisory-committee",function(){let e=document.querySelector("#PageTitleH1");if(!e)return;let n={en:"Meet the Resilient Futures Advisory Committee",fr:"Rencontrez le comit\xE9 consultatif de l\u2019initiative Un avenir r\xE9silient"},o=n[g()]||n.en;e.textContent.trim()!==o&&(e.textContent=o)});p("/sandboxmicrosite/communities/community-home/invite-community",function(){let e=document.querySelector("#MainCopy_ctl04_InviteToCommunityLabel");if(!e)return;let n=e.querySelector("strong")||e,o=pt(n.textContent)||n.textContent.trim(),r=g()==="fr"?`Invitez des personnes \xE0 rejoindre la communaut\xE9 ${o}`:`Invite people to join ${o}`;n.textContent!==r&&(n.textContent=r)});p("/profile/connections/contacts",function(){let e=document.querySelector("[id$='FindContacts_ShowingLabel']");if(!e)return;let n=M(e.textContent);if(!n)return;let a=(f.contacts[g()]||f.contacts.en)(n);e.textContent!==a&&(e.textContent=a)});p("/profile/connections/communitiesnode",function(){let e=g(),n=Q[e]||Q.en,o=f.lastJoined[e]||f.lastJoined.en;document.querySelectorAll("[id^='MainCopy_ctl29_lstCommunityList_lblLastUpdated_']").forEach(r=>{let i=ht(r.textContent);if(!i)return;let s=n[i.unitKey](i.n),c=o({n:i.n,unit:s});r.textContent!==c&&(r.textContent=c)});let a=document.querySelector("#MainCopy_ctl29_lbCommunityCount .Count");if(a){let r=yt(a.textContent);if(r){let s=(f.totalCount[e]||f.totalCount.en)(r);a.textContent!==s&&(a.textContent=s)}}(function(){let i=document.getElementById("MainCopy_ctl29_AllCommunitiesContainer");if(!i)return;let s=i.parentElement||i,c=Array.from(s.childNodes).filter(d=>d!==i);if(c.some(d=>{var R,N,k;return d.nodeType===1&&((R=d.classList)==null?void 0:R.contains("row"))&&((N=d.classList)==null?void 0:N.contains("rowContainer"))&&((k=d.classList)==null?void 0:k.contains("community-list"))}))return;let m=c.find(d=>d.nodeType===3?/^\s*no\s+results\s+found\s*$/i.test(d.textContent):d.nodeType===1?/^no\s+results\s+found$/i.test((d.textContent||"").trim()):!1);if(!m)return;let y=e==="fr"?"Aucun r\xE9sultat":"No Results Found";m.nodeType===3?m.textContent=" "+y+" ":m.textContent=y})()});p("/profile/connections/following-connections",function(){let e="[id^='FollowedContent_'] .contributions-list-header .text-muted",n=g();document.querySelectorAll(e).forEach(o=>{let a=M(o.textContent);if(!a)return;let i=(f.contacts[n]||f.contacts.en)(a);o.textContent!==i&&(o.textContent=i)})});p("/profile/contributions/contributions-list",function(){let e=document.querySelector("#MainCopy_ctl29_SearchResultStatus .ResultStatus.text-muted");if(!e)return;let n=e.textContent,o=M(n);if(!o)return;let a=g(),s=(/\btotal\b/i.test(n)?f.rangeWithTotal[a]||f.rangeWithTotal.en:f.contacts[a]||f.contacts.en)(o);e.textContent!==s&&(e.textContent=s)});var h=(t,e)=>console.log("[i18n]",t,e!=null?e:"");function Ct(t,e){let n=e.toLowerCase();for(let[o,a]of t.searchParams.entries())if(o.toLowerCase()===n)return a;return null}function C(t=location.href){let e=typeof t=="string"?new URL(t,location.origin):t instanceof URL?t:new URL(location.href),o=(e.pathname||"/").replace(/\/{2,}/g,"/").replace(/^\/sandboxmicrosite(?=\/|$)/i,"")||"/",a=(Ct(e,"section")||"").trim().toLowerCase(),r=new Set(["header","footer"]),i=c=>{c&&(Array.isArray(c)?c:[c]).forEach(l=>l&&r.add(l))};return(/^\/profile(?:\/|$)/i.test(o)||/^\/people(?:\/|$)/i.test(o))&&i("profile"),/^\/profile\/connections\/contacts(?:\/|$)/i.test(o)&&i("connections"),/^\/profile\/connections\/communities(?:\/|$)/i.test(o)&&i("communities"),/^\/profile\/connections\/communitiesnode(?:\/|$)/i.test(o)&&i("communitiesNode"),/^\/profile\/connections\/following-connections(?:\/|$)/i.test(o)&&i("following"),/^\/profile\/contributions\/contributions-summary(?:\/|$)/i.test(o)&&i("contribSummary"),/^\/profile\/contributions\/contributions-achievements(?:\/|$)/i.test(o)&&i("contribAchievements"),/^\/profile\/contributions\/contributions-list(?:\/|$)/i.test(o)&&i("contribList"),/^\/profile\/myaccount\/changepassword(?:\/|$)/i.test(o)&&i("accountChangePassword"),/^\/profile\/myaccount\/mysignature(?:\/|$)/i.test(o)&&i("accountSignature"),/^\/profile\/myaccount\/inbox(?:\/|$)/i.test(o)&&i("accountInbox"),/^\/profile\/myaccount\/my-settings(?:\/|$)/i.test(o)&&i({privacy:"accountSettingsPrivacy",email:"accountSettingsEmail",rssfeeds:"accountSettingsRss",subscriptions:"accountSettingsSubscriptions"}[a]),/^\/network\/members(?:\/|$)/i.test(o)&&i("networkMembers"),/^\/contactus(?:\/|$)/i.test(o)&&i("contactus"),/^\/login(?:\/|$)/i.test(o)&&i("login"),/^\/participate\/postmessage(?:\/|$)/i.test(o)&&i("postMessage"),/^\/participate\/add-new-entry(?:\/|$)/i.test(o)&&i("addLibrary"),/^\/events\/calendar(?:\/|$)/i.test(o)&&i("eventsCalendar"),/^\/communities\/[^/]+(?:\/|$)/i.test(o)&&i("community"),/^\/communities(?:\/community-home)?\/invite-community(?:\/digestviewer)?(?:\/|$)/i.test(o)&&i("communityInvite"),/^\/communities\/community-home\/digestviewer(?:\/|$)/i.test(o)&&i("communityDigest"),/^\/communities\/community-home\/librarydocuments(?:\/|$)/i.test(o)&&i("communityLibrary"),/^\/communities\/community-home\/recent-community-events(?:\/|$)/i.test(o)&&i("communityEvents"),/^\/communities\/community-home\/community-members(?:\/|$)/i.test(o)&&i("communityMembers"),Array.from(r)}function vt(){let t=!1,e=()=>{var r,i,s,c;let a=((i=(r=window.ThriveI18n)==null?void 0:r.__debug)==null?void 0:i.call(r).lang)||document.documentElement.getAttribute("data-lang")||localStorage.getItem("preferredLang")||"en";(c=(s=window.ThriveI18n)==null?void 0:s.setLangNoReload)==null||c.call(s,a),h("re-applied after partial postback",{lang:a})};function n(){var a,r,i,s,c;return t?!0:(r=(a=window.Sys)==null?void 0:a.WebForms)!=null&&r.PageRequestManager?(window.Sys.WebForms.PageRequestManager.getInstance().add_endRequest(()=>setTimeout(e,0)),(c=(s=(i=window.Sys)==null?void 0:i.Application)==null?void 0:s.add_load)==null||c.call(s,()=>setTimeout(e,0)),t=!0,h("WebForms PRM hook installed"),!0):!1}if(n())return;let o=setInterval(()=>{n()&&clearInterval(o)},200);if(setTimeout(()=>clearInterval(o),8e3),typeof window.__doPostBack=="function"){let a=window.__doPostBack;window.__doPostBack=function(){let r=a.apply(this,arguments);return setTimeout(e,0),h("Fallback __doPostBack patch used"),r}}}async function nt({manifestUrl:t}){var o,a,r,i;let e=C(new URL(location.href));if(!e.length){h("skip i18n (no namespaces for this page)");return}await((a=(o=window.ThriveI18n)==null?void 0:o.init)==null?void 0:a.call(o,{manifestUrl:t,namespaces:e,observeMutations:!0}));let n=(localStorage.getItem("preferredLang")||document.documentElement.getAttribute("data-lang")||document.documentElement.getAttribute("lang")||"en").toLowerCase();await((i=(r=window.ThriveI18n)==null?void 0:r.setLangNoReload)==null?void 0:i.call(r,n)),document.documentElement.setAttribute("data-lang",n==="fr"?"fr":"en"),document.documentElement.setAttribute("lang",n==="fr"?"fr-CA":"en-CA"),h("initDoIt complete",{initial:n,namespaces:e}),vt()}function ot(){W();let t=C();Y({manifestUrl:"https://prospercanada.github.io/i18n-thrive/i18n/manifest.json",namespaces:t,observeMutations:!0}),et(),nt({manifestUrl:"https://prospercanada.github.io/i18n-thrive/i18n/manifest.json"})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",ot,{once:!0}):ot();window.i18nThrive={pickNamespaces:C};})();
