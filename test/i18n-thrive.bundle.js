var i18nThrive=(()=>{var k=!1,U="preferredLang",it=[{code:"en",label:"English",htmlLang:"en-CA"},{code:"fr",label:"Fran\xE7ais",htmlLang:"fr-CA"}],S=t=>String(t||"en").toLowerCase()==="fr"?"fr":"en";function B(){try{return S(localStorage.getItem(U))}catch(t){return"en"}}function q(t){let e=S(t);document.documentElement.setAttribute("data-lang",e),document.documentElement.setAttribute("lang",e==="fr"?"fr-CA":"en-CA")}async function rt(t,{notifyAlways:e=!1}={}){var i,r;let n=S(t),o=document.documentElement.getAttribute("data-lang")||"en";try{localStorage.setItem(U,n)}catch(s){}if(o!==n&&q(n),(i=window.ThriveI18n)!=null&&i.setLangNoReload)try{await window.ThriveI18n.setLangNoReload(n)}catch(s){console.error("[i18n] setLangNoReload failed:",s)}if((r=window.i18next)!=null&&r.changeLanguage)try{await window.i18next.changeLanguage(n)}catch(s){console.warn("[i18n] i18next.changeLanguage failed:",s)}(e||o!==n)&&window.dispatchEvent(new CustomEvent("langchange",{detail:{lang:n}}))}function G(){return document.querySelector(".nav.navbar-nav")}function M(t){let e=G();if(!e)return;e.querySelectorAll("li[data-lang-toggle]").forEach(r=>r.remove());let n=it.find(r=>r.code!==t);if(!n)return;let o=document.createElement("li");o.setAttribute("data-lang-toggle","true");let i=document.createElement("a");i.href="#",i.setAttribute("role","button"),i.setAttribute("aria-label",`Switch to ${n.label}`),i.dataset.toggleLang=n.code,i.textContent=n.label,o.appendChild(i),e.appendChild(o),e.dataset.langToggleBound||(e.addEventListener("click",r=>{let s=r.target.closest("[data-toggle-lang]");if(!s)return;r.preventDefault();let u=s.dataset.toggleLang;rt(u,{notifyAlways:!0}),M(u)}),e.dataset.langToggleBound="1")}var W=null;function st(){if(W)return;let t=new MutationObserver(()=>{let e=G();e&&!e.querySelector("li[data-lang-toggle]")&&M(B())});t.observe(document.documentElement,{childList:!0,subtree:!0}),W=()=>t.disconnect()}function j(){var n;if(k)return;k=!0;let t=B();q(t),(n=window.i18next)!=null&&n.changeLanguage&&window.i18next.changeLanguage(t).catch(o=>console.warn("[i18n] initial i18next.changeLanguage failed:",o)),window.dispatchEvent(new CustomEvent("langchange",{detail:{lang:t}}));let e=()=>{M(t),st()};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",e,{once:!0}):e()}var c={lang:"en",catalogs:{},opts:null,observer:null,ready:!1,pending:[],isApplying:!1},P="preferredLang",ct=new Set(["aria-label","title","alt","placeholder","value","data-i18n-text","data-content","data-original-title"]),I=t=>String(t||"en").toLowerCase()==="fr"?"fr":"en";function V(t){let e=I(t);document.documentElement.setAttribute("data-lang",e),document.documentElement.setAttribute("lang",e==="fr"?"fr-CA":"en-CA"),window.dispatchEvent(new CustomEvent("langchange",{detail:{lang:e}}))}function T(t){return document.createTreeWalker(t,NodeFilter.SHOW_TEXT,{acceptNode(n){return n.nodeValue&&n.nodeValue.trim()?1:2}}).nextNode()}function ut(t,e){return t===e?!0:t.replace(/\u00A0/g,"&nbsp;").trim()===e.replace(/\u00A0/g,"&nbsp;").trim()}function lt(t,e){let n=T(t);n?n.nodeValue!==e&&(n.nodeValue=e):t.textContent!==e&&(t.textContent=e)}var b=new Map,mt=60*1e3,dt="i18n:json:",ft=!1;function h(...t){ft&&console.log("[i18n json]",...t)}function gt(t){try{return JSON.parse(localStorage.getItem(t)||"null")}catch(e){return null}}function pt(t,e){try{localStorage.setItem(t,JSON.stringify(e))}catch(n){}}function ht(t){return dt+t}function yt(t,e){return typeof t=="number"&&Date.now()-t<e}async function D(t,{ttlMs:e=mt,retries:n=2}={}){if(b.has(t))return b.get(t);let o=ht(t),i=gt(o);if(i&&yt(i.ts,e)){h("HIT (persist)",{url:t,ageMs:Date.now()-i.ts});let s=Promise.resolve(i.data);return b.set(t,s),s}let r=(async()=>{let s;for(let u=0;u<=n;u++)try{h("FETCH",{url:t,attempt:u});let a=await fetch(t);if(a.status===429){let m=(u+1)*300;h("429 backoff",{url:t,delay:m}),await new Promise(g=>setTimeout(g,m));continue}if(!a.ok)throw new Error(`HTTP ${a.status} for ${t}`);let l=await a.json();return pt(o,{ts:Date.now(),data:l}),h("STORE (persist)",{url:t}),l}catch(a){if(s=a,u<n){let l=(u+1)*200;h("retry",{url:t,delay:l,error:String(a)}),await new Promise(m=>setTimeout(m,l))}}if(i&&i.data)return h("FALLBACK (stale)",{url:t,ageMs:Date.now()-i.ts}),i.data;throw s})();return b.set(t,r),r}var A=null;function J(t){return A||(A=D(t),A)}var $=new Map;async function z(t,e){if($.has(e))return $.get(e);let n=(async()=>{let i=(await J(t))[`${e}.map`];if(!i)return null;let r=new URL(t,location.origin),s=new URL(i,r).toString();return D(s)})();return $.set(e,n),n}var x=new Map;async function wt(t,e,n){let o=await J(t),i=new URL(t,location.origin),r=(e||[]).map(u=>{let a=`${u}:${n}`;if(x.has(a))return x.get(a);let l=o[`${u}.${n}`];if(!l)return Promise.resolve({});let m=new URL(l,i).toString(),g=D(m);return x.set(a,g),g}),s=await Promise.all(r);return Object.assign({},...s)}function K(t){let e=new Map;if(!t)return e;for(let n of t.split(",").map(o=>o.trim()).filter(Boolean)){let[o,i]=n.split(":").map(r=>r.trim());o&&i&&e.set(o,i)}return e}function bt(t){return Array.from(t.entries()).sort(([e],[n])=>e>n?1:e<n?-1:0).map(([e,n])=>`${e}:${n}`).join(",")}function Y(t,e=document){for(let n of t||[]){let{selector:o,type:i,attr:r,key:s}=n||{};if(!o||!s)continue;let u=e.querySelectorAll(o);u.length&&u.forEach(a=>{if(i==="text"||i==="html")a.getAttribute("data-i18n")!==s&&a.setAttribute("data-i18n",s),i==="html"&&a.setAttribute("data-i18n-html","true");else if(i==="attr"&&r){let l=K(a.getAttribute("data-i18n-attr"));l.set(r,s);let m=bt(l);a.getAttribute("data-i18n-attr")!==m&&a.setAttribute("data-i18n-attr",m)}})}}function At(t,e){let n=t.getAttribute("data-i18n");if(n&&e[n]!=null){let r=String(e[n]),s=`${n}\xA7${c.lang}\xA7${r.length}`;if(t.dataset.i18nApplied!==s){if(t.hasAttribute("data-i18n-html"))ut(t.innerHTML,r)||(t.innerHTML=r);else{let u=r.replace(/&nbsp;/g,"\xA0"),a=T(t);(a?a.nodeValue:t.textContent)!==u&&lt(t,u)}t.dataset.i18nApplied=s}}let o=t.getAttribute("data-i18n-attr");if(!o)return;let i=K(o);for(let[r,s]of i){if(!ct.has(r)||e[s]==null)continue;let u=String(e[s]);if(r==="data-i18n-text"){let a=u.replace(/&nbsp;/g,"\xA0"),l=T(t);(l?l.nodeValue:"")!==a&&(l?l.nodeValue=a:t.insertBefore(document.createTextNode(a),t.firstChild));continue}(r==="title"||r==="aria-label"||r==="placeholder"||r==="value")&&(u=u.replace(/&nbsp;/g,"\xA0")),t.getAttribute(r)!==u&&t.setAttribute(r,u)}}function Q(t,e=document){t&&e.querySelectorAll("[data-i18n],[data-i18n-attr]").forEach(n=>At(n,t))}async function X(t){var r;if(!((r=c==null?void 0:c.opts)!=null&&r.manifestUrl))throw new Error("ThriveI18n not initialized: missing opts.manifestUrl");c.lang=I(t);try{localStorage.setItem(P,c.lang)}catch(s){}let{manifestUrl:e,namespaces:n}=c.opts,o=await Promise.all(n.map(s=>z(e,s)));for(let s of o)Array.isArray(s)&&Y(s,document);let i=await wt(e,n,c.lang);c.catalogs=i,c.isApplying=!0;try{Q(i)}finally{c.isApplying=!1}}var _=!1,v=new Set;function H(t){!t||t.nodeType!==1||(v.add(t),_||(_=!0,queueMicrotask(vt)))}async function vt(){if(_=!1,!v.size)return;let t=Array.from(v);v.clear(),c.isApplying=!0;try{for(let e of t)for(let n of c.opts.namespaces){let o=await z(c.opts.manifestUrl,n);o&&Y(o,e)}for(let e of t)Q(c.catalogs,e)}finally{c.isApplying=!1}}async function R(t){if(c.opts=Object.assign({namespaces:["profile"],observeMutations:!0,manifestUrl:""},t||{}),!c.opts.manifestUrl)throw new Error("manifestUrl required");let e=I(localStorage.getItem(P)||"en");V(e),await X(e),c.ready=!0,window.addEventListener("storage",n=>{n.key===P&&n.newValue&&n.newValue!==c.lang&&Z(n.newValue)}),c.opts.observeMutations&&(c.observer&&c.observer.disconnect(),c.observer=new MutationObserver(n=>{if(!c.isApplying)for(let o of n)o.type==="childList"?o.addedNodes.forEach(i=>H(i)):o.type==="attributes"&&H(o.target)}),c.observer.observe(document.documentElement,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["data-i18n","data-i18n-attr","data-i18n-html"]}))}async function Z(t){if(V(t),!c.ready){c.pending.push(t);return}await X(t)}function Lt(t){var e;return(e=c.catalogs[t])!=null?e:t}function Et(t,e){return new Intl.NumberFormat(c.lang==="fr"?"fr-CA":"en-CA",e).format(t)}function Ct(t,e){let n=t instanceof Date?t:new Date(t);return new Intl.DateTimeFormat(c.lang==="fr"?"fr-CA":"en-CA",e).format(n)}function St(){var t;return{lang:c.lang,ready:c.ready,hasObserver:!!c.observer,namespaces:((t=c.opts)==null?void 0:t.namespaces)||[],catalogKeys:Object.keys(c.catalogs).length}}typeof window!="undefined"&&(window.ThriveI18n={init:R,setLangNoReload:Z,t:Lt,fmtNumber:Et,fmtDate:Ct,__debug:St,get ready(){return c.ready}});function Mt(t,e){let n=e.toLowerCase();for(let[o,i]of t.searchParams.entries())if(o.toLowerCase()===n)return i;return null}function N(t=location.href){let e=typeof t=="string"?new URL(t,location.origin):t instanceof URL?t:new URL(location.href),o=(e.pathname||"/").replace(/\/{2,}/g,"/").replace(/^\/sandboxmicrosite(?=\/|$)/i,"")||"/",i=(Mt(e,"section")||"").trim().toLowerCase(),r=new Set(["header"]),s=!0,u=new Set(["header","profile","login","community","networkMembers"]),a=function(m){if(!(!s||!m))for(var g=Array.isArray(m)?m:[m],d=0;d<g.length;d++){var p=g[d];p&&u.has(p)&&r.add(p)}};return(/^\/profile(?:\/|$)/i.test(o)||/^\/people(?:\/|$)/i.test(o))&&a("profile"),/^\/profile\/connections\/contacts(?:\/|$)/i.test(o)&&a("connections"),/^\/profile\/connections\/communities(?:\/|$)/i.test(o)&&a("communities"),/^\/profile\/connections\/communitiesnode(?:\/|$)/i.test(o)&&a("communitiesNode"),/^\/profile\/connections\/following-connections(?:\/|$)/i.test(o)&&a("following"),/^\/profile\/contributions\/contributions-summary(?:\/|$)/i.test(o)&&a("contribSummary"),/^\/profile\/contributions\/contributions-achievements(?:\/|$)/i.test(o)&&a("contribAchievements"),/^\/profile\/contributions\/contributions-list(?:\/|$)/i.test(o)&&a("contribList"),/^\/profile\/myaccount\/changepassword(?:\/|$)/i.test(o)&&a("accountChangePassword"),/^\/profile\/myaccount\/mysignature(?:\/|$)/i.test(o)&&a("accountSignature"),/^\/profile\/myaccount\/inbox(?:\/|$)/i.test(o)&&a("accountInbox"),/^\/profile\/myaccount\/my-settings(?:\/|$)/i.test(o)&&a({privacy:"accountSettingsPrivacy",email:"accountSettingsEmail",rssfeeds:"accountSettingsRss",subscriptions:"accountSettingsSubscriptions"}[i]),/^\/network\/members(?:\/|$)/i.test(o)&&a("networkMembers"),/^\/contactus(?:\/|$)/i.test(o)&&a("contact"),/^\/login(?:\/|$)/i.test(o)&&a("login"),/^\/participate\/postmessage(?:\/|$)/i.test(o)&&a("postMessage"),/^\/participate\/add-new-entry(?:\/|$)/i.test(o)&&a("addLibrary"),/^\/events\/calendar(?:\/|$)/i.test(o)&&a("eventsCalendar"),/^\/communities\/[^/]+(?:\/|$)/i.test(o)&&a("community"),/^\/communities\/mycommunities(?:\/|$)/i.test(o)&&r.add("communityMy"),/^\/communities(?:\/community-home)?\/invite-community(?:\/digestviewer)?(?:\/|$)/i.test(o)&&a("communityInvite"),/^\/communities\/community-home\/digestviewer(?:\/|$)/i.test(o)&&a("communityDigest"),/^\/communities\/community-home\/librarydocuments(?:\/|$)/i.test(o)&&a("communityLibrary"),/^\/communities\/community-home\/recent-community-events(?:\/|$)/i.test(o)&&a("communityEvents"),/^\/communities\/community-home\/community-members(?:\/|$)/i.test(o)&&a("communityMembers"),Array.from(r)}var nt=new Map,tt=null;function O(){return document.documentElement.getAttribute("data-lang")==="fr"?"fr":"en"}function y(t,e){nt.set(t,e)}function $t(t){let e=location.pathname.replace(/\/+$/,"")||"/";if(typeof t=="function")return!!t(location);if(t instanceof RegExp)return t.test(e);if(typeof t=="string"){let n=String(t).replace(/\/+$/,"")||"/";if(n.endsWith("/*")){let o=n.slice(0,-1);return e===o.slice(0,-1)||e.startsWith(o)}return e===n}return!1}function xt(){for(let[t,e]of nt)if($t(t))return e;return null}function et(){clearTimeout(tt),tt=setTimeout(()=>{let t=xt();t&&t()},0)}function ot(){let t=()=>et();document.readyState==="loading"?document.addEventListener("DOMContentLoaded",t,{once:!0}):t(),window.addEventListener("langchange",()=>et())}function w(t,e,n,o){o=o||"langchange";function i(){try{return typeof O=="function"&&O()||document.documentElement.lang||"en"}catch(d){return document.documentElement.lang||"en"}}function r(d){return(d||"").replace(/\s+/g," ").trim()}function s(d){var p=document.getElementById(t);if(!p){console.log("applyForLocale CANNOT FIND ",t,d);return}console.log("applyForLocale FOUND ",t,d);for(var F=p.querySelectorAll("li"),L=0;L<F.length;L++){var f=F[L];f.dataset.i18nOrig||(f.dataset.i18nOrig=r(f.textContent));var E=f.dataset.i18nOrig,C=e[E];d==="fr"&&C?(f.textContent!==C&&(f.textContent=C),f.dataset.i18nApplied="1"):(f.textContent!==E&&(f.textContent=E),f.dataset.i18nApplied="")}}function u(){s(i())}var a=n&&document.getElementById(n)||document.body;if(document.readyState==="loading"?(console.log("loading"),document.addEventListener("DOMContentLoaded",u,{once:!0})):(console.log("once"),u()),window.addEventListener(o,function(d){var p=d&&d.detail&&(d.detail.lang||d.detail.locale)||i();s(p)}),window.MutationObserver){var l=new MutationObserver(u);l.observe(document.documentElement,{attributes:!0,attributeFilter:["lang"]})}if(window.MutationObserver){var m=new MutationObserver(u);m.observe(a,{childList:!0,subtree:!0,characterData:!0})}if(window.Sys&&Sys.WebForms&&Sys.WebForms.PageRequestManager)try{var g=Sys.WebForms.PageRequestManager.getInstance();g.add_endRequest(u)}catch(d){}}var Pt={"Large urban (100,000 or more)":"Grande zone urbaine (100\u2009000 ou plus)","Medium urban (30,000 to 99,999)":"Zone urbaine moyenne (30\u2009000 \xE0 99\u2009999)","Small urban (less than 30,000)":"Petite zone urbaine (moins de 30\u2009000)",Northern:"Nordique",Rural:"Rurale"},Tt={"Tax-filing support (e.g. free tax clinics)":"Aide \xE0 la d\xE9claration de revenus (p. ex. cliniques d\u2019imp\xF4t gratuites)","Help accessing benefits":"Aide pour acc\xE9der aux prestations","One-on-one financial coaching (e.g. financial goal setting and action planning)":"Coaching financier individuel (p. ex. \xE9tablissement d\u2019objectifs financiers et plan d\u2019action)","Financial counselling and problem solving (including debt management)":"Conseils financiers et r\xE9solution de probl\xE8mes (y compris la gestion des dettes)","Financial education":"\xC9ducation financi\xE8re",None:"Aucun",Other:"Autre"},_t={"Access to ID":"Acc\xE8s aux pi\xE8ces d\u2019identit\xE9","Banking Access Support":"Soutien \xE0 l\u2019acc\xE8s aux services bancaires","Budget Counselling":"Conseils budg\xE9taires","Consumer Advocacy":"D\xE9fense des consommateurs","Debt Management":"Gestion des dettes","Eviction Prevention Loan Program":"Programme de pr\xEAts pour pr\xE9venir les expulsions","Housing or Homelessness Support":"Soutien au logement ou \xE0 l\u2019itin\xE9rance","Income Support":"Aide au revenu","RDSP Info & Support":"Renseignements et soutien sur le REEI","RESP Info & Support":"Renseignements et soutien sur le REEE",None:"Aucun",Other:"Autre"},It={English:"Anglais",French:"Fran\xE7ais"},Dt={"Older people, Elders, or Seniors (65+ years old)":"Personnes \xE2g\xE9es, a\xEEn\xE9s et a\xEEn\xE9es (65 ans et plus)","Youth (15-30 years old)":"Jeunes (15 \xE0 30 ans)","Racialized people":"Personnes racis\xE9es","Black communities":"Communaut\xE9s noires","Newcomers, Refugees, or Non-Status people":"Nouveaux arrivants, r\xE9fugi\xE9s ou personnes sans statut","First Nations, M\xE9tis, and Inuit":"Premi\xE8res Nations, M\xE9tis et Inuit","Those living with disabilities":"Personnes en situation de handicap","Those who are unhoused":"Personnes sans logement","Those living on low incomes":"Personnes \xE0 faible revenu",Women:"Femmes","2SLGBTQI+":"2SLGBTQI+","Northern Communities":"Communaut\xE9s nordiques","Rural or Remote Communities":"Communaut\xE9s rurales ou \xE9loign\xE9es","Official language minority community":"Communaut\xE9 de langue officielle en situation minoritaire",Other:"Autre"};y(t=>t.pathname.startsWith("/people/")||t.pathname.startsWith("/profile"),function(){console.log("DEBUG CALLED AS PEOPLE"),w("MainCopy_ctl34_ulDemographicItems",Pt,"MainCopy_ctl34_ContactDemographicUpdatePanel","langchange")});y(t=>t.pathname.startsWith("/people/")||t.pathname.startsWith("/profile"),function(){console.log("DEBUG CALLED AS PEOPLE"),w("MainCopy_ctl41_ulDemographicItems",Tt,"MainCopy_ctl41_ContactDemographicUpdatePanel","langchange")});y(t=>t.pathname.startsWith("/people/")||t.pathname.startsWith("/profile"),function(){console.log("DEBUG CALLED AS PEOPLE"),w("MainCopy_ctl43_ulDemographicItems",_t,"MainCopy_ctl43_ContactDemographicUpdatePanel","langchange")});y(t=>t.pathname.startsWith("/people/")||t.pathname.startsWith("/profile"),function(){console.log("DEBUG CALLED AS PEOPLE"),w("MainCopy_ctl45_ulDemographicItems",It,"MainCopy_ctl45_ContactDemographicUpdatePanel","langchange")});y(t=>t.pathname.startsWith("/people/")||t.pathname.startsWith("/profile"),function(){console.log("DEBUG CALLED AS PEOPLE"),w("MainCopy_ctl38_ulDemographicItems",Dt,"MainCopy_ctl38_ContactDemographicUpdatePanel","langchange")});y("/advisory-committee",function(){let e=document.querySelector("#PageTitleH1");if(!e)return;let n={en:"Meet the Resilient Futures Advisory Committee",fr:"Rencontrez le comit\xE9 consultatif de l\u2019initiative Un avenir r\xE9silient"},o=n[O()]||n.en;e.textContent.trim()!==o&&(e.textContent=o)});function at(){j();let t=N();R({manifestUrl:"https://prospercanada.github.io/i18n-thrive/i18n/manifest.json",namespaces:t,observeMutations:!0}),ot()}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",at,{once:!0}):at();window.i18nThrive={pickNamespaces:N};})();
